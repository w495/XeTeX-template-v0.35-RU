\section[Исходный код]{Исходный код}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%
\subsection{lstlisting}
\index{lstlisting}
\index{листинги}
\index{исходники}
\index{код}
Исходный код с помощью пакета \textbf{listings} (или \textbf{listingsutf8}).
Пакет хорошо работает с однобайтовыми кодировками, но при любых настроках отказался дружить с utf8.

\begin{lstlisting}
    \usepackage[utf8]{inputenc}							% кодировка, тут очень аккуратно
\end{lstlisting}

\colorbox{yellow}{Проблема глобальна}.
И я не нашел стандартного пути решения (в pdf\LaTeX и \XeTeX~---~в $\Lambda$ ее нет).

%% \begin{lstlisting}[language=Tex, escapeinside='']
\begin{lstlisting}[escapeinside='', firstnumber=100]
    %\usepackage{listingsutf8}
    \usepackage{listings}
    \lstset{
        language=Tex,
        tabsize=2,
        breaklines,
        columns=fullflexible,
        flexiblecolumns,
        frame=tb ,
        numbers=left,
        numberstyle=\footnotesize\color{gray},
        escapechar = |, % 'можно вывалиться в \TeX'
        extendedchars = false,
            % extendedchars = true,
                %% да именно так но не  \true
                %% \true == false
        inputencoding = utf8, % кодировка, очень аккуратно тут
            % inputencoding = utf8/cp1251, % кодировка, очень аккуратно тут
        keepspaces = true,
        belowcaptionskip=5pt
    }
\end{lstlisting}

Пути решения:
\begin{itemize}
    \item Не использовать русских комментариев
    \item Использовать \textbf{verbatim},
\end{itemize}

\begin{lstlisting}[language=ConfigNetTopo]
[localhost]

[[7200]]
image = /usr//bin/Dynamips/images/c7200-is-mz.122-40.bin
    ram = 128
    npe = npe-300

[[3640]]
    image = /usr/bin/Dynamips/images/3640-is-mz.122-40.bin
    ram = 64
    model = 3640
    slot0 = NM-1E
    slot1 = NM-1FE-TX
    slot2 = NM-1FE-TX

[[ROUTER Alpha]]
model = 7200
    slot0 = C7200-IO-FE
    slot1 = PA-8E
    f0/0 = LAN 1
    e1/0 = Client09 e0/0
    e1/1 = Client10 e0/0
    console = 2000

[[ROUTER Client09]]
    model = 3640
    f1/0 = LAN 2
    f2/0 = LAN 29
    console = 2010

\end{lstlisting}


\pagebreak

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%
\subsection{verbatim}

\index{verbatim}
Его проблемы:
\begin{itemize}
    \item Нет подсветки синтаксиса
    \item Нет номеров строк
    \item Надо использовать пробелы вместо табуляции
\end{itemize}

\begin{verbatim}
    %\usepackage{listingsutf8}	%%  ---> %% utf8/cp1251
    \usepackage{listings}
    \lstset{
        language=Tex,
        tabsize=2,
        breaklines,
        columns=fullflexible,
        flexiblecolumns,
        frame=tb ,
        numbers=left,
        numberstyle={\footnotesize},
        extendedchars = false,
                % extendedchars = true,
                        %% да именно так но не  \true
                        %% \true == false
        inputencoding = utf8, % кодировка, очень аккуратно тут
                % inputencoding = utf8/cp1251,
        belowcaptionskip=5pt
    }
\end{verbatim}

\pagebreak %% Разрыв страницы :-)
